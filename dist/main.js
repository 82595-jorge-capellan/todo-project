(()=>{let t=0,e=[],n=window.localStorage,i=0;var s;class o{constructor(){this.projectList=[],console.log(this)}addProject(){this.projectList.push(new a),console.log(this)}}document.getElementById("save").onclick=function(){n.setItem("page",JSON.stringify(s))},window.onload=function(){null===n.getItem("page")?(s=new o,console.log("holi")):(console.log(n.getItem("page")),console.log("la wea"))};class d{constructor(t){this.expanded=!1;var e,n,s=this;this.active=!0,this.element=document.createElement("div"),this.element.classList.add("to-do"),this.element.id=`todo${i.toString()}`,this.id=i.toString(),this.self=this,i+=1,this.date=(e=new Date,n=String(e.getDate()).padStart(2,"0"),String(e.getMonth()+1).padStart(2,"0")+"/"+n+"/"+e.getFullYear()),this.text=document.createElement("h6"),this.text.classList.add("titulo"),this.name=window.prompt("Ingresa un nombre para el proyecto: "),this.text.innerHTML=this.name,this.priority=window.prompt("ingresa un nivel de prioridad (del 1 al 10)"),this.btnErase=document.createElement("button"),this.btnErase.type="button",this.btnErase.classList.add("erase"),this.spanErase=document.createElement("span"),this.spanErase.className+="glyphicon glyphicon-remove text-danger",this.btnErase.onclick=function(){window.confirm("De verdad desea borrar esta accion?")&&(s.active=!1,this.parentNode.remove())},this.btnErase.appendChild(this.spanErase),this.btnInfo=document.createElement("button"),this.btnInfo.type="button",this.btnInfo.classList.add("info"),this.spanInfo=document.createElement("span"),this.spanInfo.className+="glyphicon glyphicon-align-justify text-info",this.btnInfo.appendChild(this.spanInfo),this.btnInfo.onclick=function(){0==s.expanded?s.expandInfo():s.unexpandInfo()},this.checkerContainer=document.createElement("div"),this.checkerContainer.classList.add("checker-container"),this.label=document.createElement("label"),this.label.innerHTML="Done:",this.input=document.createElement("input"),this.input.type="checkbox",this.input.classList.add("checker"),this.input.value="done",this.label.appendChild(this.input),this.checkerContainer.appendChild(this.label),this.element.appendChild(this.text),this.element.appendChild(this.btnErase),this.element.appendChild(this.btnInfo),this.element.appendChild(this.checkerContainer),document.getElementById("to-dos").insertBefore(this.element,document.getElementById("to-do-add"))}display(){1==this.active?document.getElementById("to-dos").insertBefore(this.element,document.getElementById("to-do-add")):console.log("elemento borrado")}expandInfo(){this.expanded=!0,document.getElementById(`todo${this.id}`).style.height="6em",this.text.innerHTML+=`<br />Prioridad de la accion: ${this.priority}<br /> AÃ±adido el: ${this.date}`,this.text.style.height="6em"}unexpandInfo(){this.expanded=!1,document.getElementById(`todo${this.id}`).style.height="3em",this.text.innerHTML=this.name,this.text.style.height="3em"}}class a{constructor(){var n=this;e.push(this),this.toDoList=[],this.active=!1,this.element=document.createElement("div"),this.element.id=t.toString(),this.id=t,t++,this.element.classList.add("proyecto"),this.element.onclick=function(){n.setActive(n.id)},this.titulo=document.createElement("h5"),this.titulo.textContent=window.prompt("Como desea llamar al nuevo proyecto?"),this.btnErase=document.createElement("button"),this.btnErase.classList.add("erase"),this.btnErase.type="button",this.btnErase.onclick=function(){window.confirm("De verdad desea borrar este proyecto con todos sus elementos?")&&this.parentNode.remove()},this.spanErase=document.createElement("span"),this.spanErase.className+="glyphicon glyphicon-remove text-danger",this.btnErase.appendChild(this.spanErase),this.element.appendChild(this.titulo),this.element.appendChild(this.btnErase),document.getElementById("projects").insertBefore(this.element,document.getElementById("project-add"))}setActive(t){this.active=!0,e.forEach((function(t){try{document.getElementById(t.id).style.backgroundColor="#B4A7A9",t.active=!1,document.getElementById(t.id).style.color="rgb(51, 51, 51)"}catch{console.log(`el elemento ${t.id} fue borrado.`)}})),document.getElementById(t).style.backgroundColor="#615B4E",document.getElementById(t).style.color="white",this.displayToDo()}displayToDo(){var t=this;document.getElementById("to-dos").innerHTML='<div class="to-do" id="to-do-add"><button type="button" class="add" id="add"><span class="glyphicon glyphicon-plus text-primary"></span></button></div><div class="to-do" id="blank-space"></div>',document.getElementById("add").onclick=function(){let e=new d(t.id);t.toDoList.push(e)},this.toDoList.forEach((function(t){t.display()}))}}document.getElementById("project-add").onclick=function(){s.addProject()}})();